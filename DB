CREATE DATABASE TO_DO;

USE TO_DO;

CREATE TABLE notes (
id INT PRIMARY KEY AUTO_INCREMENT,
note VARCHAR(255) NOT NULL,
date DATETIME DEFAULT CURRENT_TIMESTAMP,
username VARCHAR(25) NOT NULL,
completed TINYINT NOT NULL DEFAULT 0
);

CREATE TABLE users (
id INT PRIMARY KEY AUTO_INCREMENT,
username VARCHAR(25) NOT NULL UNIQUE,
password VARCHAR(255) NOT NULL,
);

CREATE TABLE mailer_queue (
    id INT AUTO_INCREMENT PRIMARY KEY,
    recipient VARCHAR(255) NOT NULL,
    html_body TEXT NOT NULL,
    text_body TEXT NOT NULL,
    status ENUM('pending', 'sent', 'failed') DEFAULT 'pending',
    error_message TEXT DEFAULT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    send_at DATETIME DEFAULT NULL
);